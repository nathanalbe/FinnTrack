{% extends "base.html" %} {% block content %}
<div class="container">
  <h1>Manage Spendings</h1>
  <form method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group">
      {{ form.description.label(class="form-control-label") }} {{
      form.description(class="form-control") }}
    </div>
    <div class="form-group">
      {{ form.amount.label(class="form-control-label") }} {{
      form.amount(class="form-control") }}
    </div>
    <div class="form-group">{{ form.submit(class="btn btn-primary") }}</div>
  </form>
  <hr />
  <h2>Your Spendings</h2>
  <ul>
    {% for spending in spendings %}
    <li>
      {{ spending.description }}: ${{ spending.amount }} on {{
      spending.date.strftime('%Y-%m-%d') }}
      <a
        href="{{ url_for('update_spending', spending_id=spending.id) }}"
        class="btn btn-secondary btn-sm"
        >Edit</a
      >
      <form
        action="{{ url_for('delete_spending', spending_id=spending.id) }}"
        method="POST"
        style="display: inline"
      >
        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
      </form>
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
